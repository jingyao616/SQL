# 19 Working with Stored Procedures

# 19.1 Understanding Views

Instead of create SQL every time you need, you can create a stored procedure.

Stored procedures are simply collections of one or more SQL statements saved for future use. 

You can think of them as batch files.

```sql
# you cannot run it because the stored procedure does not exist
EXECUTE AddNewProduct( 'JT01',
											'Stuffed Eiffel Tower',
											6.49,
											'Plush stuffed tory with the text La Tour Eiffel');
```

It adds a product into Product table.

The unique ID (Primary Key) is generated by the procedure, not rely on end users.

# 19.2 Creating Stored Procedures

Not easy, but here is a simple example, to count the number of customers in a mailing list who have email addresses:

```sql
CREATE PROCEDURE MailingListCount (
	ListCount OUT INTEGER
)
IS
v_rows INTEGER;
BEGIN
	SELECT COUNT(*) INTO v_rows
	FROM Customers
	WHERE NOT cust_email IS NULL;
	ListCount := v-rows;
END;
```